import { QuizResult, getQualificationMessage } from "./quizScoring";

export interface EmailData {
  userEmail: string;
  firstName: string;
  lastName: string;
  firmName: string;
  result: QuizResult;
  completedAt: Date;
}

// Create a rich text format that works well in email clients
export const generateEmailMessage = (
  data: EmailData,
  isForAdmin: boolean = false,
): string => {
  const qualificationInfo = getQualificationMessage(data.result.qualification);

  if (isForAdmin) {
    return `ğŸš¨ NEW AI ASSESSMENT COMPLETED ğŸš¨

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ‘¤ CLIENT INFORMATION:
Name: ${data.firstName} ${data.lastName}
Email: ${data.userEmail}
Firm: ${data.firmName}
Completed: ${data.completedAt.toLocaleDateString()} at ${data.completedAt.toLocaleTimeString()}

ğŸ¯ LEAD QUALIFICATION: ${data.result.qualification.toUpperCase()} PRIORITY

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“Š ASSESSMENT RESULTS:

ğŸ”¥ OVERALL AI READINESS SCORE: ${data.result.overallScore}%

ğŸ“ˆ CATEGORY BREAKDOWN:
ğŸ‘¥ Client AI Expectations: ${data.result.categoryScores.client_ai}%
âš¡ Current AI Implementation: ${data.result.categoryScores.personal_ai}%
ğŸ¯ AI Readiness Level: ${data.result.categoryScores.readiness}%

ğŸ’¡ SUMMARY:
${qualificationInfo.message}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸš€ STRATEGIC RECOMMENDATIONS:

${data.result.recommendations.map((rec, i) => `${i + 1}. ${rec}`).join("\n\n")}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“ IMMEDIATE ACTIONS REQUIRED:

${
  data.result.qualification === "high"
    ? `ğŸ”´ HIGH PRIORITY LEAD - Contact immediately!
ğŸ“§ Email: ${data.userEmail}
ğŸ“ Schedule consultation call ASAP
ğŸ¯ Strong potential for immediate conversion`
    : data.result.qualification === "medium"
      ? `ğŸŸ¡ MEDIUM PRIORITY LEAD - Follow up within 48 hours
ğŸ“§ Email: ${data.userEmail}
ğŸ“ Schedule optimization strategy discussion
ğŸ¯ Good potential with proper nurturing`
      : `ğŸŸ¢ LOW PRIORITY LEAD - Add to nurturing sequence
ğŸ“§ Email: ${data.userEmail}
ğŸ“ Schedule discovery call when appropriate
ğŸ¯ Long-term potential with education`
}

REPLY TO: ${data.userEmail}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Generated by Pro-Actis AI Assessment System
${data.completedAt.toLocaleString()}`;
  } else {
    return `ğŸ‰ YOUR AI READINESS ASSESSMENT RESULTS ğŸ‰

Hello ${data.firstName}!

Thank you for completing the Pro-Actis AI Readiness Assessment. Your results are ready!

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ”¥ YOUR OVERALL AI READINESS SCORE: ${data.result.overallScore}%

ğŸ† QUALIFICATION LEVEL: ${data.result.qualification.toUpperCase()} PRIORITY

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“Š DETAILED BREAKDOWN:

ğŸ‘¥ CLIENT AI EXPECTATIONS: ${data.result.categoryScores.client_ai}%
   How your clients view and expect AI usage in legal services

âš¡ CURRENT AI IMPLEMENTATION: ${data.result.categoryScores.personal_ai}%
   Your firm's current adoption and usage of AI tools

ğŸ¯ AI READINESS INFRASTRUCTURE: ${data.result.categoryScores.readiness}%
   Your team and technology preparedness for AI integration

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ’¡ WHAT THIS MEANS FOR YOU:

${qualificationInfo.message}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

${
  data.result.strengths.length > 0
    ? `ğŸ¯ YOUR KEY STRENGTHS:

${data.result.strengths.map((strength) => `âœ… ${strength}`).join("\n")}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

`
    : ""
}

${
  data.result.improvements.length > 0
    ? `ğŸ“ˆ AREAS FOR IMPROVEMENT:

${data.result.improvements.map((improvement) => `ğŸ”§ ${improvement}`).join("\n")}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

`
    : ""
}

ğŸš€ STRATEGIC RECOMMENDATIONS FOR YOUR FIRM:

${data.result.recommendations.map((rec, i) => `${i + 1}. ${rec}`).join("\n\n")}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ¯ READY TO ACCELERATE YOUR AI JOURNEY?

Based on your assessment results, Pro-Actis can help you implement the right AI strategy to meet your clients' expectations and gain competitive advantage.

ğŸ“ BOOK YOUR FREE 30-MINUTE DISCOVERY CALL:
https://calendly.com/mylinkedinads/talking-about-your-a-i-strategy

During this call, we'll:
âœ… Review your specific assessment results in detail
âœ… Identify immediate opportunities for AI implementation
âœ… Create a customized roadmap for your firm
âœ… Discuss how to leverage AI for competitive advantage

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Pro-Actis AI - Empowering Legal Excellence Through Artificial Intelligence

ğŸŒ Website: www.pro-actis.com
ğŸ“§ Email: contact@pro-actis.com

Generated on ${data.completedAt.toLocaleDateString()}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

This email was sent because you completed an AI readiness assessment on our website. If you have any questions about your results or Pro-Actis services, please contact us at the email above.`;
  }
};
